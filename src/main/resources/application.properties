spring.application.name=backend
spring.config.import=optional:file:.env[.properties]

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL
# =====================================================

# Conexión a PostgreSQL local
# Formato: jdbc:postgresql://host:puerto/nombre_base_datos
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/clinica_juridica}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configuración del pool de conexiones HikariCP (incluido en Spring Boot)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# =====================================================
# CONFIGURACIÓN DE JDBC
# =====================================================

# Deshabilitar auto-configuración de JPA (usamos JDBC puro)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# Inicialización de base de datos
# mode: always = siempre ejecuta schema.sql
# mode: never = nunca ejecuta schema.sql (útil si la BD ya está creada)
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.continue-on-error=true



# =====================================================
# CONFIGURACIÓN DE LOGGING
# =====================================================

# Nivel de log para SQL (útil para debugging)
logging.level.org.springframework.jdbc.core=DEBUG
logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG
logging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE

# Log de tu aplicación
logging.level.clinica_juridica.backend=DEBUG

# =====================================================
# CONFIGURACIÓN DEL SERVIDOR
# =====================================================

# Puerto del servidor (por defecto 8080)
server.port=8080

# Context path (por defecto /)
server.servlet.context-path=/

# =====================================================
# CONFIGURACIÓN DE SPRING SECURITY (TEMPORAL - DESARROLLO)
# =====================================================

# Deshabilitar CSRF para pruebas (NO usar en producción)
# Esto se puede configurar mejor en SecurityConfig.java
spring.security.user.name=admin
spring.security.user.password=admin123

# =====================================================
# CONFIGURACIÓN DE ENVÍO DE CORREOS
# =====================================================

# Configuración de SendGrid (Web API)
# La clave se inyecta desde la variable de entorno SENDGRID_API_KEY
app.sendgrid.key=${SENDGRID_API_KEY:SG.placeholder_key_for_dev}

# Dirección de correo remitente (Debe estar verificada en SendGrid)
app.mail.from=${MAIL_FROM:clinica.backend@gmail.com}

# Configuración de notificaciones personalizadas
# Lista de correos separados por coma
app.notification.recipients=eduardocaballeroarmas10@gmail.com,cesarostosa@gmail.com,danielhernandezrodrigez2003@gmail.com
# Asunto del correo
app.notification.subject=${NOTIFICATION_SUBJECT:Notificacion: El Backend se ha iniciado correctamente}

